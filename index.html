<!DOCTYPE html>
<html lang="zh-cmn">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<div id="app">

    <div>
        <h1>我是父组件的标题</h1>
        <my-component>
        </my-component>
    </div>

</div>


</body>
</html>
<script src="js/vue.js"></script>
<script>

    var currencyValidator = {
        format: function (number) {
            return (Math.trunc(number * 100) / 100).toFixed(2)
        },
        parse: function (newString, oldNumber) {
            var CleanParse = function (value) {
                return {value: value}
            }
            var CurrencyWarning = function (warning, value) {
                return {
                    warning: warning,
                    value: value,
                    attempt: newString
                }
            }
            var NotAValidDollarAmountWarning = function (value) {
                return new CurrencyWarning(newString + ' is not a valid dollar amount', value)
            }
            var AutomaticConversionWarning = function (value) {
                return new CurrencyWarning(newString + ' was automatically converted to ' + value, value)
            }

            var newNumber = Number(newString)
            var indexOfDot = newString.indexOf('.')
            var indexOfE = newString.indexOf('e')

            if (isNaN(newNumber)) {
                if (
                    indexOfDot === -1 &&
                    indexOfE > 0 &&
                    indexOfE === newString.length - 1 &&
                    Number(newString.slice(0, indexOfE)) !== 0
                ) {
                    return new CleanParse(oldNumber)
                } else {
                    return new NotAValidDollarAmountWarning(oldNumber)
                }
            }

            var newCurrencyString = currencyValidator.format(newNumber)
            var newCurrencyNumber = Number(newCurrencyString)

            if (newCurrencyNumber === newNumber) {
                if (indexOfE !== -1 && indexOfE === newString.length - 2) {
                    return new AutomaticConversionWarning(newNumber)
                } else {
                    return new CleanParse(newNumber)
                }
            } else {
                return new NotAValidDollarAmountWarning(
                    newNumber > newCurrencyNumber
                        ? newCurrencyNumber
                        : oldNumber
                )
            }
        }
    };

    Vue.component('my-component', {
        template: '\
        <div>\
        <h2>我是子组件的标题</h2>\
            <slot>\
                只有在没有要分发的内容时才会显示。\
            </slot>\
        </div>\
      '
    });

    new Vue({
        el: '#app'
    })


</script>